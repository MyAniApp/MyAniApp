fragment ListGroup on MediaListGroup {
  name
  isCustomList
  isSplitCompletedList
  status
  entries {
    ...MediaListEntry
  }
}

query User($name: String) {
  User(name: $name) {
    ...BasicUser
    bannerImage
    about
    statistics {
      anime {
        count
        episodesWatched
        minutesWatched
        meanScore
        standardDeviation
      }
      manga {
        count
        chaptersRead
        volumesRead
        meanScore
        standardDeviation
      }
    }
    favourites(page: 1) {
      anime(page: 1) {
        edges {
          node {
            ...BasicMedia
          }
        }
      }
      manga(page: 1) {
        edges {
          node {
            ...BasicMedia
          }
        }
      }
    }
  }
}

query Favorites($username: String, $animePage: Int, $mangaPage: Int, $characterPage: Int, $staffPage: Int, $studioPage: Int) {
  User(name: $username) {
    id
    name
    favourites {
      anime(page: $animePage) {
        edges {
          favouriteOrder
          node {
            ...BasicMedia
          }
        }
      }
      manga(page: $mangaPage) {
        edges {
          favouriteOrder
          node {
            ...BasicMedia
          }
        }
      }
      characters(page: $characterPage) {
        edges {
          favouriteOrder
          node {
            id
            image {
              large
            }
            name {
              userPreferred
            }
          }
        }
      }
      staff(page: $staffPage) {
        edges {
          favouriteOrder
          node {
            id
            image {
              large
            }
            name {
              userPreferred
            }
          }
        }
      }
      studios(page: $studioPage) {
        edges {
          favouriteOrder
          node {
            id
            name
          }
        }
      }
    }
  }
}

query UserList($name: String, $type: MediaType, $sort: [MediaListSort]) {
  MediaListCollection(userName: $name, type: $type, sort: $sort) {
    lists {
      ...ListGroup
    }
  }
}
