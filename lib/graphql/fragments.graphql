fragment FuzzyDate on FuzzyDate {
  day
  month
  year
}

fragment PageInfo on PageInfo {
  currentPage
  hasNextPage
}

fragment UserFragment on User {
  id
  name
  donatorTier
  donatorBadge
  moderatorRoles
  avatar {
    large
  }
}

fragment ReleasingMedia on Media {
  ...MediaFragment
  nextAiringEpisode {
    airingAt
    timeUntilAiring
    episode
  }
  airingSchedule(notYetAired: false) {
    edges {
      node {
        airingAt
        timeUntilAiring
        episode
      }
    }
  }
}

fragment ListGroup on MediaListGroup {
  name
  isCustomList
  isSplitCompletedList
  status
  entries {
    ...MediaListEntry
  }
}

fragment MediaListEntry on MediaList {
  id
  mediaId
  status
  updatedAt
  status
  progress
  progressVolumes
  priority
  notes
  hiddenFromStatusLists
  private
  repeat
  score
  customLists(asArray: true)
  startedAt {
    ...FuzzyDate
  }
  completedAt {
    ...FuzzyDate
  }
  media {
    ...MediaFragment
    episodes
    chapters
    status(version: 2)
    averageScore
    popularity
    startDate {
      ...FuzzyDate
    }
  }
}

fragment CustomList on CustomList {
  name
  enabled
}

fragment MediaFragment on Media {
  id
  type
  isAdult
  genres
  format
  description(asHtml: false)
  title {
    userPreferred
  }
  coverImage {
    extraLarge
  }
}

fragment ThreadFragment on Thread {
  id
  title
  replyCount
  viewCount
  replyCommentId
  repliedAt
  createdAt
  isSticky
  categories {
    id
    name
  }
  user {
    id
    name
    avatar {
      large
    }
  }
  replyUser {
    id
    name
    avatar {
      large
    }
  }
}

fragment TextActivity on TextActivity {
  id
  userId
  type
  replyCount
  text
  isLocked
  isSubscribed
  isLiked
  likeCount
  createdAt
  user {
    ...UserFragment
  }
}

fragment ListActivity on ListActivity {
  id
  userId
  type
  status
  progress
  replyCount
  isLocked
  isSubscribed
  isLiked
  likeCount
  createdAt
  user {
    ...UserFragment
  }
  media {
    ...MediaFragment
  }
}

fragment MessageActivity on MessageActivity {
  id
  type
  message
  replyCount
  isPrivate
  isLocked
  isSubscribed
  isLiked
  likeCount
  createdAt
  userId: messengerId
  messenger {
    id
    name
    donatorTier
    donatorBadge
    moderatorRoles
    avatar {
      large
    }
  }
}

fragment MediaListOptions on MediaListTypeOptions {
  sectionOrder
  customLists
}
